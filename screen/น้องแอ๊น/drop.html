<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏ô‡∏≥‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</title>
  <link rel="stylesheet" href="../../assets/css/styles.css">
</head>
<body>

<div class="export-container">
  <h2>‡∏ô‡∏≥‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h2>

  <div class="export-date-inputs">
    <div>
      <label for="start-date">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</label>
      <input type="date" id="start-date">
    </div>
    <div>
      <label for="end-date">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label>
      <input type="date" id="end-date">
    </div>
  </div>

  <div class="export-file-types">
    <button onclick="selectFileType('csv')">CSV</button>
    <button onclick="selectFileType('excel')">Excel</button>
    <button onclick="selectFileType('pdf')">PDF</button>
    <button onclick="selectFileType('json')">JSON</button>
  </div>

  <button class="export-download-button" onclick="exportData()">üì• ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
</div>

<script>
  let selectedFileType = 'csv';

  function selectFileType(type) {
    selectedFileType = type;
    document.querySelectorAll('.export-file-types button').forEach(btn => btn.classList.remove('selected'));
    event.target.classList.add('selected');
  }

  function exportData() {
    const startDate = document.getElementById('start-date').value;
    const endDate = document.getElementById('end-date').value;

    if (!startDate || !endDate) {
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô');
      return;
    }

    const blob = new Blob([`‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å ${startDate} ‡∏ñ‡∏∂‡∏á ${endDate}`], { type: 'text/plain' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = `export.${selectedFileType}`;
    link.click();
  }
</script>

</body>
</html>

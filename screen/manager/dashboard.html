<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard</title>
  <link rel="stylesheet" href="../../assets/css/sidebar.css" />
  <link rel="stylesheet" href="../../assets/css/dashboard.css">
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>

<body>
  <div class="dashboard-layout">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="sidebar-header">
        <h2>SIRIN MUSEUM</h2>
        <div class="role">MANAGER</div>
      </div>

      <div class="user-profile">
        <div class="profile-avatar"><i class="fas fa-user"></i></div>
        <div class="profile-name" id="profileName">‡∏Ñ‡∏∏‡∏ì‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£</div>
        <div class="profile-role" id="profileRole">‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏û‡∏¥‡∏û‡∏¥‡∏ò‡∏†‡∏±‡∏ì‡∏ë‡πå</div>
        <div class="profile-time" id="sidebarLoginTime">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö: 19:52</div>
      </div>

      <ul class="nav-menu">
        <li class="nav-item">
          <a href="#" class="nav-link active">üìä ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</a>
        </li>
        <li class="nav-item">
          <a href="export.html" class="nav-link">üìà ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</a>
        </li>
      </ul>
      <button class="logout-btn" onclick="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <div class="content-header">
        <h1>‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</h1>
        <p>‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏π‡πâ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ä‡∏°</p>
      </div>

      <div class="tab-content active">
        <!-- Statistics Cards -->
        <div class="dashboard-grid">
          <div class="card">
            <div class="card-header">
              <div class="card-icon" style="background: linear-gradient(45deg, #2a8c78, #1a6b5e);">üë•</div>
              <div class="card-title">‡∏ú‡∏π‡πâ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ä‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
            </div>
            <div class="stat-number">127</div>
            <div class="stat-label">‡∏Ñ‡∏ô</div>
          </div>
          <div class="card">
            <div class="card-header">
              <div class="card-icon" style="background: linear-gradient(45deg, #3498db, #2980b9);">üè¢</div>
              <div class="card-title">‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
            </div>
            <div class="stat-number">8</div>
            <div class="stat-label">‡∏´‡πâ‡∏≠‡∏á</div>
          </div>
          <div class="card">
            <div class="card-header">
              <div class="card-icon" style="background: linear-gradient(45deg, #9b59b6, #8e44ad);">üì°</div>
              <div class="card-title">iBeacon ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</div>
            </div>
            <div class="stat-number">45</div>
            <div class="stat-label">‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</div>
          </div>
          <div class="card">
            <div class="card-header">
              <div class="card-icon" style="background: linear-gradient(45deg, #e74c3c, #c0392b);">‚è±Ô∏è</div>
              <div class="card-title">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</div>
            </div>
            <div class="stat-number">2.5</div>
            <div class="stat-label">‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</div>
          </div>
        </div>

        <!-- Reports Section -->
        <div class="card">
          <div class="card-header">
            <div class="card-icon" style="background: linear-gradient(45deg, #2a8c78, #1a6b5e);">üìä</div>
            <div class="card-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>
          </div>
          <div style="display: flex; gap: 15px; flex-wrap: wrap;">
            <button class="btn" onclick="exportDailyReport()">üìÑ ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</button>
            <button class="btn" onclick="exportWeeklyReport()">üìÖ ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</button>
            <button class="btn" onclick="exportMonthlyReport()">üìÜ ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</button>
            <button class="btn" onclick="exportVisitorReport()">üë• ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ä‡∏°</button>
            <button class="btn" onclick="exportEquipmentReport()">üè∑Ô∏è ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</button>
          </div>
        </div>

        <!-- Section Divider -->
        <div class="section-divider">
          <h2>üèõÔ∏è ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡πâ‡∏≠‡∏á</h2>
          <p>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ä‡∏°‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏ô‡∏¥‡∏ó‡∏£‡∏£‡∏®‡∏Å‡∏≤‡∏£</p>
        </div>

        <!-- Room Dashboard Grid -->
        <div class="room-dashboard-grid">
          <div class="room-card">
            <h3>‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà 1 - ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡∏£‡∏¥‡∏Å‡πÑ‡∏Å‡∏£‡πÄ‡∏à‡πâ‡∏≤‡∏ü‡πâ‡∏≤‡∏ô‡∏±‡∏Å‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå</h3>
            <iframe
              src="http://localhost:3000/d-solo/feag3icdt3f28a/rsssssss191?orgId=1&from=1749471372820&to=1749471672820&timezone=browser&showCategory=Gauge&panelId=16&__feature.dashboardSceneSolo"
              frameborder="0"></iframe>
          </div>

          <div class="room-card">
            <h3>‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà 2 - ‡∏´‡∏≠‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡πà‡∏á‡∏•‡πâ‡∏ô‡∏ï‡∏ô</h3>
            <iframe
              src="http://localhost:3000/d-solo/feag3icdt3f28a/rsssssss191?orgId=1&from=1749471372820&to=1749471672820&timezone=browser&showCategory=Gauge&panelId=19&__feature.dashboardSceneSolo"
              frameborder="0"></iframe>
          </div>

          <div class="room-card">
            <h3>‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà 3 - ‡πÄ‡∏Ç‡∏≤‡∏´‡∏•‡∏ß‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏°‡∏≤‡∏Å‡∏°‡∏µ</h3>
            <iframe
              src="http://localhost:3000/d-solo/feag3icdt3f28a/rsssssss191?orgId=1&from=1749471372820&to=1749471672820&timezone=browser&showCategory=Gauge&panelId=20&__feature.dashboardSceneSolo"
              frameborder="0"></iframe>
          </div>

          <div class="room-card">
            <h3>‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà 4 - ‡∏®‡∏±‡∏Å‡∏¢‡∏†‡∏≤‡∏û‡∏°‡∏≤‡∏Å‡∏•‡πâ‡∏ô‡∏°‡∏µ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô</h3>
            <iframe
              src="http://localhost:3000/d-solo/feag3icdt3f28a/rsssssss191?orgId=1&from=1749471372820&to=1749471672820&timezone=browser&showCategory=Gauge&panelId=22&__feature.dashboardSceneSolo"
              frameborder="0"></iframe>
          </div>

          <div class="room-card">
            <h3>‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà 5 - ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏•‡∏∏‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏õ‡∏≤‡∏Å‡∏û‡∏ô‡∏±‡∏á</h3>
            <iframe
              src="http://localhost:3000/d-solo/feag3icdt3f28a/rsssssss191?orgId=1&from=1749471372820&to=1749471672820&timezone=browser&showCategory=Gauge&panelId=23&__feature.dashboardSceneSolo"
              frameborder="0"></iframe>
          </div>

          <div class="room-card">
            <h3>‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà 6 - ‡∏ä‡∏≤‡∏¢‡∏ù‡∏±‡πà‡∏á‡∏≠‡∏∏‡∏î‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå</h3>
            <iframe
              src="http://localhost:3000/d-solo/feag3icdt3f28a/rsssssss191?orgId=1&from=1749471372820&to=1749471672820&timezone=browser&showCategory=Gauge&panelId=24&__feature.dashboardSceneSolo"
              frameborder="0"></iframe>
          </div>

          <div class="room-card">
            <h3>‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà 7 - ‡∏ö‡∏£‡∏¥‡∏ö‡∏π‡∏£‡∏ì‡πå‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏≠‡πà‡∏≤‡∏ß‡πÑ‡∏ó‡∏¢</h3>
            <iframe
              src="http://localhost:3000/d-solo/feag3icdt3f28a/rsssssss191?orgId=1&from=1749471372820&to=1749471672820&timezone=browser&showCategory=Gauge&panelId=25&__feature.dashboardSceneSolo"
              frameborder="0"></iframe>
          </div>

          <div class="room-card">
            <h3>‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà 8 - ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÅ‡∏ó‡πâ‡πÅ‡∏Å‡πà‡∏°‡∏´‡∏≤‡∏ä‡∏ô</h3>
            <iframe
              src="http://localhost:3000/d-solo/feag3icdt3f28a/rsssssss191?orgId=1&from=1749471372820&to=1749471672820&timezone=browser&showCategory=Gauge&panelId=26&__feature.dashboardSceneSolo"
              frameborder="0"></iframe>
          </div>
        </div>

        <!-- Total Visitors Section -->
        <div class="total-visitors-card">
          <h3>üìä ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h3>
          <iframe
            src="http://localhost:3000/d-solo/feag3icdt3f28a/rsssssss191?orgId=1&from=1748059139091&to=1748080739091&timezone=browser&panelId=6&__feature.dashboardSceneSolo"
            frameborder="0"></iframe>
        </div>

        <!-- Real-time Activity Table -->
        <div class="table-container">
          <table class="table">
            <thead>
              <tr>
                <th>‡πÄ‡∏ß‡∏•‡∏≤</th>
                <th>‡∏ú‡∏π‡πâ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ä‡∏°</th>
                <th>iBeacon</th>
                <th>‡∏´‡πâ‡∏≠‡∏á</th>
                <th>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</th>
                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
              </tr>
            </thead>
            <tbody id="realtimeTable">
              <tr>
                <td>14:35:22</td>
                <td>‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏¥‡∏ô‡∏¥</td>
                <td>TAG001</td>
                <td>‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</td>
                <td>‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á</td>
                <td><span class="badge badge-success">‡∏õ‡∏Å‡∏ï‡∏¥</span></td>
              </tr>
              <tr>
                <td>14:33:15</td>
                <td>‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ä‡∏≤‡∏¢</td>
                <td>TAG005</td>
                <td>‡∏´‡πâ‡∏≠‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞</td>
                <td>‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡πâ‡∏≠‡∏á</td>
                <td><span class="badge badge-warning">‡∏ä‡πâ‡∏≤</span></td>
              </tr>
              <tr>
                <td>14:32:08</td>
                <td>‡∏ô‡πâ‡∏≠‡∏á‡πÅ‡∏õ‡πâ‡∏á</td>
                <td>TAG003</td>
                <td>‡∏´‡πâ‡∏≠‡∏á‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</td>
                <td>‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á</td>
                <td><span class="badge badge-success">‡∏õ‡∏Å‡∏ï‡∏¥</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <script>

    // Mock functions for button clicks
    function exportDailyReport() {
      alert('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô...');
    }

    function exportWeeklyReport() {
      alert('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå...');
    }

    function exportMonthlyReport() {
      alert('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô...');
    }

    function exportVisitorReport() {
      alert('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ä‡∏°...');
    }

    function exportEquipmentReport() {
      alert('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå...');
    }

    // Simulate real-time data updates
    function updateRealtimeData() {
      const table = document.getElementById('realtimeTable');
      const now = new Date();
      const timeString = now.toLocaleTimeString('th-TH', { hour12: false });

      // Example of adding new row (you can implement actual data fetching here)
      console.log('Real-time data updated at:', timeString);
    }

    // Update every 30 seconds
    setInterval(updateRealtimeData, 30000);

    document.addEventListener("DOMContentLoaded", function () {
      const firstname = localStorage.getItem("firstname");
      const lastname = localStorage.getItem("lastname");
      const role = localStorage.getItem("role");
      const loginTime = localStorage.getItem("loginTime");

      if (firstname && lastname) {
        document.getElementById("profileName").textContent = `‡∏Ñ‡∏∏‡∏ì${firstname} ${lastname}`;
      }

      if (role) {
        const roleText = {
          admin: "‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö",
          manager: "‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£",
          staff: "‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà"
        };
        document.getElementById("profileRole").textContent = roleText[role] || "‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô";
      }

      if (loginTime) {
        document.getElementById("sidebarLoginTime").textContent = `‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö: ${loginTime}`;
      }
    });

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô logout
    function logout() {
      localStorage.clear();
      window.location.href = '../login.html';
    }
  </script>
</body>

</html>